
# Handwritten Characters

手書きの日本語文字を集めて、AI で認識できるようにする趣味プロジェクトです。
理系大学生が日常的に使う文字（ひらがな・カタカナ・漢字・数字・記号など）を対象に、ブラウザ上でストロークデータを集めて、PyTorch でモデルを学習します。

最終目標は **学習済みモデルを公開して誰でも使えるようにする** ことです。

---

## 目次

* [プロジェクトの内容](#プロジェクトの内容)
* [データ形式](#データ形式)
* [特徴](#特徴)
* [動かし方（暫定）](#動かし方暫定)
* [開発方針・今後の予定](#開発方針今後の予定)
* [貢献について](#貢献について)
* [ライセンス](#ライセンス)
* [謝辞 (Acknowledgements)](#謝辞-acknowledgements)
* [連絡先 / 備考](#連絡先--備考)

---

## プロジェクトの内容

* **データ収集**

  * ブラウザ上の Canvas を使って手書き入力を取得。
  * 各ストロークを JSON（`[x, y, time, isTouching]`）で保存。
  * 同時にキャンバスの画像（PNG）も保存して、画像ベースの解析にも使えるようにしています。
  * 学校の友人にも協力してもらい、多様な筆跡を収集しています ✍️

* **モデル**

  * フレームワーク: **Python + PyTorch**
  * 現在は基礎実験フェーズ。`sentence-4dim/oneletters/models/ransamolingmodel.py` が実行可能スクリプトとして存在します（暫定）。
  * 最終的に学習済みモデルを配布予定。

* **Web / インターフェース**

  * データ収集は Web（Canvas）で行います。バックエンドは過去に Flask/Django/FastAPI のいずれかを使った実装がある想定ですが、現状の実装詳細はリポジトリ内の該当ディレクトリを参照してください。
  * (注) 実行手順やサーバ起動方法は現在整理中です。

---

## データ形式

サンプル（JSON）:

```json
{
  "text": "あ",
  "strokes": [
    [116, 140.125, 0, 1],
    [117, 141.500, 12, 1],
    ...
  ]
}
```

* `text`: 書かれた文字（ラベル）
* `strokes`: 各点の配列。各要素は `[x, y, time, isTouching]` を想定。

  * `x`, `y`: キャンバス上の座標
  * `time`: タイムスタンプ（ミリ秒など）
  * `isTouching`: ペンが触れているか（1 = 接触, 0 = 非接触）

画像は PNG 形式で同じ識別子（例: ファイル名）を使って保存しています。

---

## 特徴

* ストロークの時系列情報を保持しているため、書き順・速度情報を用いた解析が可能。
* 複数人から収集したデータセットにより、筆跡の多様性を担保。
* PyTorch ベースで、実験・改良がしやすい構成を想定。

---

## 動かし方（暫定）

> 現状は実行手順を整理中です。まずは暫定で動かせる方法を載せます。

### 前提（推奨）

```bash
# Python 3.8+ 推奨
python -m venv .venv
source .venv/bin/activate   # mac / linux
# .venv\Scripts\activate     # Windows (PowerShell)
pip install -U pip
```

### 依存関係（例）

まず `requirements.txt` を作成しておくと便利です（存在しない場合は手動でインストール）。

```bash
# 例
pip install torch torchvision flask numpy matplotlib
```

> 実際に必要なライブラリはリポジトリ内の `requirements.txt` を確認してください（未整備の場合あり）。

### 暫定的にモデルを実行する

```bash
# 既存の暫定スクリプトを直接実行
python sentence-4dim/oneletters/models/ransamolingmodel.py
```

* 上記は現状で動く（はずの）暫定コマンドです。詳細な引数や出力先は該当スクリプトのヘッダーコメントや `if __name__ == "__main__":` 部分を見てください。
* 今後は `train.py` / `inference.py` を追加して、より簡潔な実行方法に整備していく予定です。

---

## 開発方針・今後の予定

* PyTorch によるモデル設計とハイパーパラメータ探索
* 学習済みモデルの公開（モデルファイル + 推論用スクリプト）
* データ収集・前処理コードのドキュメント化と整理
* `train.py`, `inference.py` の追加で実行体験を改善
* 余力があれば、Web 上で動く推論デモの公開（ブラウザでサンプル入力→推論）

---

## 貢献について（Contributing）

歓迎！友達や他の人と一緒に育てていきたいです。気軽に PR や Issue を出してください。提案の例：

* データ収集 UI の改善（使いやすさ・ラベリング）
* JSON / 画像の保存フォーマット改善案
* PyTorch モデルの実装改善や新しいアーキテクチャの提案
* 学習 / 評価パイプラインの整理 (`train.py`, `eval.py` 等)

**最低限のガイドライン（簡易）**：

1. Issue を立ててから作業すると調整がスムーズです。
2. コードスタイル: Python は PEP8 準拠を目安に。
3. 大きな変更は PR ベースで、簡単な説明を書いてください（何を変えたか、なぜ変えたか）。

---

## ライセンス

このプロジェクトは趣味で作っています。現時点では厳格なライセンス指定はしていませんが、公開時は **MIT ライセンス** 等の緩やかなライセンスを推奨します。
（リポジトリに `LICENSE` を追加して明示してください。）

**参考（推奨）**: `LICENSE` に MIT を置くと、再利用しやすくなります。

---

## 謝辞 (Acknowledgements)

このプロジェクトのデータ収集には学校の友人たちに協力してもらいました。
さまざまな筆跡を集めることができたのは、みんなのおかげです。ありがとう！ 

---

## 連絡先 / 備考

* 使い方や問題点、改善アイデアがあれば Issue を立ててください。
* README の内容は随時更新していきます（特に実行方法・依存関係・ライセンス）。
